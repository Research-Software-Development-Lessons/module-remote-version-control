<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Remote Version Control</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-markdown>
                    <textarea data-template>
                        #  Remote Version Control
                    </textarea>
                </section>

                <section>
                    <section data-markdown>
                        <textarea data-template>
                            ## Topics

                            - Backup up code (and any files) online
                            - Cloning and forking remote repositories
                            - Managing files in a collaboration
                            - Merging simultaneous changes
                            - Downloading open source code
                        </textarea>
                    </section>

                </section>
                <section>
                    <section>
                        <h2>Repositories</h2>

                        <br/>
                        <div class="floated_img">
                            <a href="https://github.com" class="image"><img src="./images/GitHub_Logo.png" height="100" alt="GitHub"></a>
                            &nbsp;
                            <a href="https://launchpad.net" class="image"><img src="./images/launchpad-logo.png" height="100" alt="Launchpad"></a>
                        </div>
                        <div class="floated_img">
                            <a href="https://sourceforge.net" class="image"><img src="./images/sourceforge-logo.jpeg" height="100" alt="SourceForge"></a>
                            &nbsp;
                            <a href="https://about.gitlab.com" class="image"><img src="./images/gitlab-logo.svg" height="100" alt="GitLab"></a>
                        </div>

                        <h3 class="fragment">We'll focus on GitHub.</h3>
                    </section>

                    <section data-markdown>
                        <textarea data-template>
                            ## Why GitHub?

                            - Nice landing pageâ€”renders README automatically
                            - Grabs information about LICENSE, programming language
                            - Supports issue tracking and wiki
                            - Network graphs, time history of commits
                            - User downloads
                            - Varying permissions (read, write, etc.)
                            - Nice web interface to browse, view, and edit code

                        </textarea>
                    </section>

                    <section data-markdown>
                        <textarea data-template>
                            ## Workflow (with account)

                            1. Create space for repo on GitHub account
                            2. Point to that remote repo from local copy
                            3. Push repository to the remote location
                            4. Continue working!
                        </textarea>
                    </section>

                    <section data-markdown>
                        <textarea data-template>
                            ## Alternatively, if starting new project, you can:

                            1. Create a new repo on account
                            2. Copy (clone) empty repo to local computer
                            3. Prosper!
                        </textarea>
                    </section>
                </section>

                <section>
                    <section data-markdown>
                        <textarea data-template>
                            ## Let's work through creating a repo

                            <img src="./images/github-create-new-repo.png" height="400" alt="GitHub screenshot">

                        </textarea>
                    </section>

                    <section>
                        <img src="./images/new-repo-info.png" height="600" alt="Screenshot of creating a new repo on GitHub">
                    </section>

                    <section>
                        <img src="./images/new-repo-info-filled.png" height="600" alt="Screenshot of creating a new repo on GitHub with info filled">
                    </section>

                    <section>
                        <img src="./images/new-repo-empty.png" height="600" alt="Screenshot of a new, empty repo on GitHub">
                    </section>

                    <section>
                        <h3>Create and push new repo</h3>

                        <img src="./images/github-push-remote.png" height="500" alt="Pushing to a remote repo on GitHub">
                    </section>

                    <section>
                        <h3>Cloning a repo</h3>

                        <img src="./images/github-clone-repo.png" height="500" alt="Cloning a repo from GitHub">
                    </section>

                    <section>
                        <p class="fragment"><strong>Clone</strong>: make local copy of any repository (Git)</p>

                        <p class="fragment"><strong>Fork</strong>: Remote repository connected to/aware of the "upstream" repo it was cloned from (GitHub)</p>
                    </section>

                    <section>
                        <h3>Forking a repo</h3>

                        <img src="./images/github-fork.png" height="400" alt="Forking a repo on GitHub">
                    </section>

                    <section>
                        <h3>Collaborative work using GitHub</h3>

                        <img src="./images/github-collaborate-forks.png" height="400" alt="Collaborating with forks on GitHub">
                    </section>

                    <section>
                        <img src="./images/github-clone-repo.png" height="500" alt="Cloning a repo from GitHub">

                        <p class="fragment">How does Fran keep local repo up to date with the original?</p>
                    </section>

                    <section>
                        <h3>Do this yourself</h3>
                        <br/>
                        <ol>
                            <li class="fragment">
                                Fork it: at <a href="https://github.com/Research-Software-Development-Lessons/analysis_code">Research-Software-Development-Lessons/analysis_code</a>, click "Fork"
                            </li>

                            <li class="fragment"> Clone your fork
                        <pre><code data-trim class="bash">
                            $ git clone https://github.com/[you]/analysis_code.git
                        </code></pre>
                            <p>(replace "[you]" with your username)</p>
                            </li>

                            <li class="fragment">Create the alias "upstream" for the remote repo:
                        <pre><code data-trim class="bash">
                            $ git remote add upstream \
                            https://github.com/Research-Software-Development-Lessons/analysis_code.git
                            $ git remote -v
                        </code></pre>
                            </li>
                        </ol>
                    </section>

                    <section>
                        <h3>Fetching and merging remote content</h3>
                        <br/>
                        <ol>
                            <li class="fragment"> In your cloned local repo, fetch the upstream repo history:
                                <pre><code data-trim class="bash">
                                    $ git fetch upstream
                                </code></pre>
                            </li>

                            <li class="fragment"> Merge the "upstream" master branch into your master branch:
                                <pre><code data-trim class="bash">
                                    $ git merge upstream/master
                                </code></pre>
                            </li>

                            <li class="fragment"> Look at the changes!
                            </li>
                        </ol>
                    </section>

                    <section>
                        <h3>Update your fork</h3>
                        <ol>
                            <li class="fragment"> After merging upstream history, push your work:
                                <pre><code data-trim class="bash">
                                    $ git push
                                </code></pre>
                                (this goes to "origin master")
                            </li>
                        </ol>

                        <br/><br/>

                        <h3 class="fragment">What if you (or someone else) made a change in your fork?</h3>
                        <ol>
                            <li class="fragment">
                                <pre><code data-trim class="bash">
                                    $ git pull
                                </code></pre>
                                "pull" = "fetch" and "merge" for "origin master"
                            </li>
                        </ol>
                    </section>

                    <section>
                        <h3>What about conflicts?</h3>
                        <br/>
                        <p class="fragment">When fetching, merging, and/or pulling remote changes, you may encounter conflicts</p>

                        <p class="fragment">To solve: just follow the directions!</p>

                        <p class="fragment">(In-class example)</p>
                    </section>

                    <section>
                        <h3>Collaborating on GitHub Best Practices</h3>

                        <h4 class="fragment">For one-person projects:</h4>
                        <ul>
                            <li class="fragment">push and pull (to/from origin)</li>
                            <li class="fragment">use branches, merge into master</li>
                        </ul>
                        <br/><br/>

                        <h4 class="fragment">For multi-person projects:</h4>
                        <ul>
                            <li class="fragment">Fork into a personal repo</li>
                            <li class="fragment">Use git fetch/merge to keep updated with upstream</li>
                            <li class="fragment">Push (and pull) to/from origin (your fork on GitHub)</li>
                            <li class="fragment">Contribute changes via pull requests on GitHub</li>
                        </ul>
                    </section>

                </section>

                <section>
					<section>
							<h3>(Some) issues that arise when using GitHub</h3>
							<br/>
							<h4 class="fragment">Pull Requests</h4>
		
							<h4 class="fragment">Licenses (discussed in another lesson)</h4>
					</section>
                    <section>
                        <h2>Pull Requests</h2>
                        <br/>
                        <p class="fragment">Modern, GitHub-based version of emailing someone a <strong>patch</strong></p>

                        <p class="fragment">Pull Requests (or PRs) consist of sequences of patches, based on a history of Git commits</p>
                    </section>

                    <section>
                        <h3>Example Pull Request on GitHub</h3>
                        <img src="./images/github-pull-request-example.png" height="500" alt="Pull request example on GitHub">
                    </section>

                    <section>
                        <h3>How to contribute a change to someone else's repository</h3>
                        <ol>
                            <li class="fragment"> Fork the repo </li>

                            <li class="fragment"> Clone your fork locally
                                <pre><code data-trim class="bash">
                                    $ git clone ...
                                </code></pre>
                            </li>
                            <li class="fragment">Create a new branch for your changes/fix:
                                <pre><code data-trim class="bash">
                                    $ git checkout -b newfix
                                </code></pre>
                            </li>
                            <li class="fragment">Commit and push your changes
                                <pre><code data-trim class="bash">
                                    $ git commit -am "fixes problem in upstream project"
                                    $ git push origin newfix
                                </code></pre>
                            </li>
                            <li class="fragment">Submit a Pull Request via GitHub</li>
                        </ol>
                    </section>

                    <section>
                        <h3>Create Pull Request</h3>
                        <img src="./images/github-create-pull-request.png" height="500" alt="Create a Pull Request on GitHub">
                    </section>

                    <section>
                        <h3>Submitting Pull Requests</h3>
                        <br/>
                        <p class="fragment">Try to submit shorter Pull Requests when possible, as they are easier to review and merge</p>

                        <p class="fragment">If the project uses testing, make sure to add a new test (or modify an existing one) to reflect your change. More on tests later!</p>
                    </section>
                </section>
			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
	</body>
</html>
